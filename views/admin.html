<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Van Ã–zel Diyaliz Merkezi | Admin</title>

<style>
body {
  margin: 0;
  font-family: "Segoe UI", Arial, sans-serif;
  background: #f2f4f7;
  color: #333;
}

header {
  background: #0b5ed7;
  color: white;
  padding: 20px;
  font-size: 20px;
}

.container {
  max-width: 1100px;
  margin: 30px auto;
}

.card {
  background: white;
  border-radius: 8px;
  padding: 20px;
  margin-bottom: 25px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
}

.card h2 {
  margin-top: 0;
  border-bottom: 1px solid #eee;
  padding-bottom: 10px;
}

label {
  font-weight: 600;
  display: block;
  margin-top: 10px;
}

input, select, button {
  padding: 8px;
  margin-top: 5px;
  width: 100%;
  max-width: 300px;
}

button {
  background: #0b5ed7;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  margin-top: 15px;
}

button:hover {
  background: #094db1;
}

.list {
  margin-top: 15px;
}

.list li {
  padding: 8px 0;
  border-bottom: 1px solid #eee;
}

.logout {
  text-align: right;
}

.logout a {
  color: #0b5ed7;
  text-decoration: none;
  font-weight: 600;
}
</style>
</head>

<body>

<header>
  Van Ã–zel Diyaliz Merkezi â€“ Admin Paneli
</header>

<div class="container">

  <!-- HASTA EKLE -->
  <div class="card">
    <h2>Hasta Ekle</h2>
    <form method="POST" action="/admin/hasta-ekle">
      <label>Hasta AdÄ±</label>
      <input name="ad" required>

      <label>Cihaz</label>
      <select name="cihaz">
        <option>1</option><option>2</option><option>3</option>
        <option>4</option><option>5</option><option>6</option>
      </select>

      <label>GÃ¼n Grubu</label>
      <select name="gunGrubu">
        <option>Pzt-Ã‡rÅŸ-Cum</option>
        <option>Sal-Per-Cts</option>
      </select>

      <label>Seans</label>
      <select name="seans">
        <option>Sabah</option>
        <option>Ã–ÄŸle</option>
        <option>AkÅŸam</option>
      </select>

      <button>Hasta Kaydet</button>
    </form>
  </div>

  <!-- HEMÅžÄ°RE EKLE -->
  <div class="card">
    <h2>HemÅŸire Ekle</h2>
    <form method="POST" action="/admin/hemsire-ekle">
      <label>Ad Soyad</label>
      <input name="adSoyad" required>

      <label>TC Kimlik No</label>
      <input name="tc" required>

      <button>HemÅŸire Ekle</button>
    </form>
  </div>

  <!-- HEMÅžÄ°RE LÄ°STESÄ° -->
  <div class="card">
    <h2>HemÅŸire Listesi</h2>
    <ul class="list" id="hemsireListesi">YÃ¼kleniyor...</ul>
  </div>

  <div class="logout">
    <a href="/logout">Ã‡Ä±kÄ±ÅŸ Yap</a>
  </div>

</div>

<script>
fetch("/admin/hemsireler")
  .then(res => res.json())
  .then(data => {
    const ul = document.getElementById("hemsireListesi");
    ul.innerHTML = "";
    data.forEach(h => {
      const li = document.createElement("li");
      li.innerHTML = `
        ${h.adSoyad} (${h.tc}) - 
        ${h.aktif ? "ðŸŸ¢ Aktif" : "ðŸ”´ Pasif"}
      `;
      ul.appendChild(li);
    });
  });
</script>

</body>
</html>
