<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Van Ã–zel Diyaliz Merkezi | Admin Paneli</title>

<style>
body {
  margin: 0;
  font-family: "Segoe UI", Arial, sans-serif;
  background: #f2f4f7;
  color: #333;
}

header {
  background: #0b5ed7;
  color: white;
  padding: 20px;
  font-size: 22px;
  font-weight: bold;
}

.layout {
  display: flex;
  max-width: 1300px;
  margin: 30px auto;
}

/* SOL MENÃœ */
.sidebar {
  width: 230px;
  background: #ffffff;
  border-radius: 8px;
  padding: 15px;
  margin-right: 20px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

.sidebar button {
  width: 100%;
  padding: 14px;
  margin-bottom: 12px;
  border: none;
  background: #0b5ed7;
  color: white;
  border-radius: 6px;
  cursor: pointer;
  font-size: 15px;
}

.sidebar button:hover {
  background: #094db1;
}

.sidebar a {
  display: block;
  margin-top: 20px;
  text-align: center;
  text-decoration: none;
  color: #0b5ed7;
  font-weight: bold;
}

/* Ä°Ã‡ERÄ°K */
.content {
  flex: 1;
}

.card {
  background: white;
  border-radius: 8px;
  padding: 25px;
  margin-bottom: 20px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
}

.card h2 {
  margin-top: 0;
  border-bottom: 1px solid #eee;
  padding-bottom: 10px;
}

label {
  display: block;
  font-weight: 600;
  margin-top: 12px;
}

input, select {
  width: 300px;
  padding: 8px;
  margin-top: 5px;
}

button.submit {
  margin-top: 15px;
  padding: 10px 20px;
  background: #0b5ed7;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

button.submit:hover {
  background: #094db1;
}

.hidden {
  display: none;
}
</style>
</head>

<body>

<header>
  Van Ã–zel Diyaliz Merkezi â€“ Admin Paneli
</header>

<div class="layout">

  <!-- SOL MENÃœ -->
  <aside class="sidebar">
    <button onclick="show('hasta')">ğŸ©º Hasta Ekle</button>
    <button onclick="show('hemsire')">ğŸ‘©â€âš•ï¸ HemÅŸire Ekle</button>
    <button onclick="show('liste')">ğŸ“‹ HemÅŸire Listesi</button>
    <button onclick="show('dagitim')">ğŸ”„ HaftalÄ±k DaÄŸÄ±tÄ±m</button>
    <a href="/logout">Ã‡Ä±kÄ±ÅŸ</a>
  </aside>

  <!-- SAÄ Ä°Ã‡ERÄ°K -->
  <main class="content">

  <!-- HASTA EKLE -->
<section id="hasta" class="card">
  <h2>Hasta Ekle</h2>

  <form method="POST" action="/admin/hasta-ekle">
    <label>Hasta AdÄ±</label>
    <input type="text" name="ad" required>

    <label>Cihaz</label>
    <select name="cihaz" required>
      <script>
        for (let i = 1; i <= 43; i++) {
          document.write(`<option value="${i}">${i}</option>`);
        }
      </script>
    </select>

    <label>GÃ¼n Grubu</label>
    <select name="gunGrubu" required>
      <option value="Pzt-Ã‡rÅŸ-Cum">Pzt-Ã‡rÅŸ-Cum</option>
      <option value="Sal-Per-Cts">Sal-Per-Cts</option>
    </select>

    <label>Seans</label>
    <select name="seans" required>
      <option value="Sabah">Sabah</option>
      <option value="Ã–ÄŸle">Ã–ÄŸle</option>
      <option value="AkÅŸam">AkÅŸam</option>
    </select>

    <button class="submit">Hasta Kaydet</button>
  </form>
</section>


    <!-- HEMÅÄ°RE EKLE -->
    <section id="hemsire" class="card hidden">
      <h2>HemÅŸire Ekle</h2>

      <form method="POST" action="/admin/hemsire-ekle">
        <label>Ad Soyad</label>
        <input name="adSoyad" required>

        <label>TC Kimlik No</label>
        <input name="tc" maxlength="11" required>

        <button class="submit">HemÅŸire Ekle</button>
      </form>
    </section>

    <!-- HEMÅÄ°RE LÄ°STESÄ° -->
    <section id="liste" class="card hidden">
      <h2>HemÅŸire Listesi</h2>
      <ul id="hemsireListesi"></ul>
    </section>

    <!-- DAÄITIM -->
    <section id="dagitim" class="card hidden">
      <h2>HaftalÄ±k DaÄŸÄ±tÄ±mÄ± Ã‡alÄ±ÅŸtÄ±r</h2>

      <form method="POST" action="/admin/dagitim-calistir">
        <label>Hafta Kodu</label>
        <input name="hafta" value="2026-01-HAFTA-1" required>
        <button class="submit">DaÄŸÄ±tÄ±mÄ± BaÅŸlat</button>
      </form>
    </section>

  </main>
</div>

<script>
function show(id) {
  document.querySelectorAll("section").forEach(s => s.classList.add("hidden"));
  document.getElementById(id).classList.remove("hidden");
}

// HemÅŸire listesini getir
fetch("/admin/hemsireler")
  .then(res => res.json())
  .then(data => {
    const ul = document.getElementById("hemsireListesi");
    ul.innerHTML = "";
    data.forEach(h => {
      ul.innerHTML += `<li>${h.adSoyad} (${h.tc})</li>`;
    });
  });
</script>

</body>
</html>
<!-- HASTA LÄ°STESÄ° -->
<section id="hastaListe" class="card hidden">
  <h2>Hasta Listesi</h2>

  <table style="width:100%; border-collapse: collapse;">
    <thead>
      <tr>
        <th>Ad</th>
        <th>Cihaz</th>
        <th>GÃ¼n</th>
        <th>Seans</th>
        <th>Durum</th>
      </tr>
    </thead>
    <tbody id="hastaTable"></tbody>
  </table>
</section>
