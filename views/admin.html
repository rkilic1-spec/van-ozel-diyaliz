<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Van √ñzel Diyaliz Merkezi | Admin Paneli</title>

<style>
body {
  margin: 0;
  font-family: "Segoe UI", Arial, sans-serif;
  background: #f2f4f7;
  color: #333;
}

header {
  background: #0b5ed7;
  color: white;
  padding: 20px;
  font-size: 22px;
  font-weight: bold;
}

.layout {
  display: flex;
  max-width: 1300px;
  margin: 30px auto;
}

/* SOL MEN√ú */
.sidebar {
  width: 230px;
  background: #ffffff;
  border-radius: 8px;
  padding: 15px;
  margin-right: 20px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

.sidebar button {
  width: 100%;
  padding: 14px;
  margin-bottom: 12px;
  border: none;
  background: #0b5ed7;
  color: white;
  border-radius: 6px;
  cursor: pointer;
  font-size: 15px;
}

.sidebar button:hover {
  background: #094db1;
}

.sidebar a {
  display: block;
  margin-top: 20px;
  text-align: center;
  text-decoration: none;
  color: #0b5ed7;
  font-weight: bold;
}

/* ƒ∞√áERƒ∞K */
.content {
  flex: 1;
}

.card {
  background: white;
  border-radius: 8px;
  padding: 25px;
  margin-bottom: 20px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
}

.card h2 {
  margin-top: 0;
  border-bottom: 1px solid #eee;
  padding-bottom: 10px;
}

label {
  display: block;
  font-weight: 600;
  margin-top: 12px;
}

input, select {
  width: 300px;
  padding: 8px;
  margin-top: 5px;
}

button.submit {
  margin-top: 15px;
  padding: 10px 20px;
  background: #0b5ed7;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

button.submit:hover {
  background: #094db1;
}

.hidden {
  display: none;
}
</style>
</head>

<body>

<header>
  Van √ñzel Diyaliz Merkezi ‚Äì Admin Paneli
</header>

<div class="layout">

  <!-- SOL MEN√ú -->
  <aside class="sidebar">
    <button onclick="show('hasta')">ü©∫ Hasta Ekle</button>
    <button onclick="show('hemsire')">üë©‚Äç‚öïÔ∏è Hem≈üire Ekle</button>
    <button onclick="show('liste')">üìã Hem≈üire Listesi</button>
    <a href="/logout">√áƒ±kƒ±≈ü</a>
  </aside>

  <!-- SAƒû ƒ∞√áERƒ∞K -->
  <main class="content">

    <!-- HASTA EKLE -->
    <section id="hasta" class="card">
      <h2>Hasta Ekle</h2>

      <form method="POST" action="/admin/hasta-ekle">
        <label>Hasta Adƒ±</label>
        <input name="ad" required>

        <label>Cihaz</label>
        <select name="cihaz">
          <!-- 1-43 -->
          <script>
            for (let i = 1; i <= 43; i++) {
              document.write(`<option value="${i}">${i}</option>`);
            }
          </script>
        </select>

        <label>G√ºn Grubu</label>
        <select name="gunGrubu">
          <option>Pzt-√ár≈ü-Cum</option>
          <option>Sal-Per-Cts</option>
        </select>

        <label>Seans</label>
        <select name="seans">
          <option>Sabah</option>
          <option>√ñƒüle</option>
          <option>Ak≈üam</option>
        </select>

        <button class="submit">Hasta Kaydet</button>
      </form>
    </section>

    <!-- HEM≈ûƒ∞RE EKLE -->
    <section id="hemsire" class="card hidden">
      <h2>Hem≈üire Ekle</h2>

      <form method="POST" action="/admin/hemsire-ekle">
        <label>Ad Soyad</label>
        <input name="adSoyad" required>

        <label>TC Kimlik No</label>
        <input name="tc" maxlength="11" required>

        <button class="submit">Hem≈üire Ekle</button>
      </form>
    </section>

    <!-- Lƒ∞STE -->
    <section id="liste" class="card hidden">
      <h2>Hem≈üire Listesi</h2>
      <ul id="hemsireListesi"></ul>
    </section>

  </main>
</div>

<script>
function show(id) {
  document.querySelectorAll("section").forEach(s => s.classList.add("hidden"));
  document.getElementById(id).classList.remove("hidden");
}

// Hem≈üire listesini getir
fetch("/admin/hemsireler")
  .then(res => res.json())
  .then(data => {
    const ul = document.getElementById("hemsireListesi");
    ul.innerHTML = "";
    data.forEach(h => {
      ul.innerHTML += `<li>${h.adSoyad} (${h.tc})</li>`;
    });
  });
</script>

</body>
</html>
